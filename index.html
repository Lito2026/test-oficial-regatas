<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEST OFICIAL DE REGATAS</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0077ff">

<style>
:root{
  --bg:#f5f5f5;
  --text:#111;
  --card:#ffffff;
  --primary:#0077ff;
  --ok:#2ecc71;
  --bad:#e74c3c;
}

[data-theme="dark"]{
  --bg:#0f172a;
  --text:#e5e7eb;
  --card:#1e293b;
  --primary:#3b82f6;
  --ok:#22c55e;
  --bad:#ef4444;
}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:var(--bg);
  color:var(--text);
  transition:background .3s,color .3s;
}

/* HEADER */
header{
  position:sticky;
  top:0;
  background:var(--card);
  padding:12px;
  text-align:center;
  z-index:100;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
}

h1{
  margin:0;
  font-size:1.2rem;
}

.copyright{
  font-size:.8rem;
  opacity:.7;
}

.toggle{
  position:absolute;
  right:15px;
  top:15px;
  cursor:pointer;
  font-size:1.2rem;
}

/* MAIN */
main{
  padding:15px;
  max-width:800px;
  margin:auto;
}

.card{
  background:var(--card);
  padding:18px;
  border-radius:16px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
  margin-bottom:20px;
}

/* BOTONES GENERALES */
button{
  width:100%;
  margin:8px 0;
  padding:14px;
  font-size:16px;
  font-weight:600;
  border-radius:14px;
  border:2px solid var(--primary);
  background:var(--primary);
  color:#fff;
  cursor:pointer;
  transition:.2s;
}

button:hover{
  opacity:.9;
}

button.correct{
  background:var(--ok);
  border-color:var(--ok);
}

button.wrong{
  background:var(--bad);
  border-color:var(--bad);
}

button.selected{
  background:#005fcc;
}

.hidden{
  display:none;
}

.timer{
  text-align:right;
  font-weight:bold;
  margin-bottom:5px;
}

/* IMAGENES */
img{
  max-width:100%;
  border-radius:14px;
  margin:10px 0;
}

/* FEEDBACK */
.ok{
  color:var(--ok);
  font-weight:bold;
}

.bad{
  color:var(--bad);
  font-weight:bold;
}

/* === NUMERIC MULTI === */

.numeric-option-btn{
  width:100%;
  background:#0077ff;
  color:#fff;
  padding:12px;
  margin-top:14px;
  border-radius:12px;
  border:none;
  font-weight:600;
}

.numeric-input-btn{
  width:100%;
  margin-top:8px;
  padding:12px;
  border-radius:12px;
  border:2px solid #9ca3af;
  background:#e5e7eb;
  color:#000;
  font-size:1rem;
  text-align:center;
}

.numeric-input-btn:focus{
  outline:none;
  border-color:var(--primary);
}

/* PANTALLA FINAL */
.result-pass{
  color:var(--ok);
  font-size:1.4rem;
  font-weight:bold;
}

.result-fail{
  color:var(--bad);
  font-size:1.4rem;
  font-weight:bold;
}

</style>
</head>

<body>

<header>
  <h1>TEST OFICIAL DE REGATAS</h1>
  <div class="copyright">¬© Angel Ruiz</div>
  <div class="toggle" id="themeToggle">üåô</div>
</header>

<main>

  <!-- INICIO -->
  <div id="start" class="card">
    <button onclick="startTest()">Empezar Test</button>
  </div>

  <!-- QUIZ -->
  <div id="quiz" class="card hidden">
    <div class="timer" id="timer">00:00</div>
    <div id="progress"></div>

    <h2 id="question"></h2>

    <div id="imgWrapper" class="hidden">
      <img id="qImage">
    </div>

    <div id="answers"></div>
    <div id="feedback"></div>

    <button id="nextBtn" class="hidden">Siguiente</button>
  </div>

  <!-- FINAL -->
  <div id="end" class="card hidden"></div>

</main>

<script src="app.js"></script>

<script>
/* ===== MODO OSCURO ===== */

const toggle = document.getElementById("themeToggle");

/* Cargar preferencia guardada */
if(localStorage.getItem("theme")==="dark"){
  document.body.dataset.theme="dark";
  toggle.textContent="‚òÄÔ∏è";
}

/* Cambiar modo */
toggle.addEventListener("click",()=>{
  if(document.body.dataset.theme==="dark"){
    document.body.dataset.theme="";
    localStorage.setItem("theme","light");
    toggle.textContent="üåô";
  }else{
    document.body.dataset.theme="dark";
    localStorage.setItem("theme","dark");
    toggle.textContent="‚òÄÔ∏è";
  }
});

/* Registrar Service Worker */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
